package session

import (
	"encoding/json"
	"fmt"
	"testing"
)

// 冬夏令时切换；

func TestMt4ToEt6(t *testing.T) {
	FX_Quote := map[string]string{
		"1": "1:0-24:0",
		"2": "0:0-24:0",
		"3": "0:0-24:0",
		"4": "0:0-24:0",
		"5": "0:0-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("FX_Quote", FX_Quote)

	FX_Trade := map[string]string{
		"1": "1:5-24:0",
		"2": "0:0-0:55,1:5-24:0",
		"3": "0:0-0:55,1:5-24:0",
		"4": "0:0-0:55,1:5-24:0",
		"5": "0:0-0:55,1:5-24:0",
		"6": "0:0-0:55",
		"0": "0:0-0:0",
	}
	printSession("FX_Trade", FX_Trade)

	XAGUSD_XAUUSD := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("XAGUSD_XAUUSD", XAGUSD_XAUUSD)

	XNGUSD := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("XNGUSD", XNGUSD)

	XBRUSD := map[string]string{
		"1": "4:1-24:0",
		"2": "0:0-1:0,4:1-24:0",
		"3": "0:0-1:0,4:1-24:0",
		"4": "0:0-1:0,4:1-24:0",
		"5": "0:0-1:0,4:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("XBRUSD", XBRUSD)

	XTIUSD := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("XTIUSD", XTIUSD)

	Cryptos_Quote := map[string]string{
		"1": "1:0-24:0",
		"2": "0:0-24:0",
		"3": "0:0-13:0,13:30-24:0",
		"4": "0:0-24:0",
		"5": "0:0-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("Cryptos_Quote", Cryptos_Quote)

	Cryptos_Trade := map[string]string{
		"1": "1:5-24:0",
		"2": "0:0-0:55,1:5-24:0",
		"3": "0:0-0:55,1:5-13:0,13:30-24:0",
		"4": "0:0-0:55,1:5-24:0",
		"5": "0:0-0:55,1:5-24:0",
		"6": "0:0-0:55",
		"0": "0:0-0:0",
	}
	printSession("Cryptos_Trade", Cryptos_Trade)


	EUSTX50_E50EUR := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("EUSTX50_E50EUR", EUSTX50_E50EUR)

	GER30_D30EUR := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("GER30_D30EUR", GER30_D30EUR)

	HK50_H33HKD := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("HK50_H33HKD", HK50_H33HKD)

	JPN225_225JPY := map[string]string{
		"1": "2:5-24:0",
		"2": "0:0-1:0,2:5-24:0",
		"3": "0:0-1:0,2:5-24:0",
		"4": "0:0-1:0,2:5-24:0",
		"5": "0:0-1:0,2:5-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("JPN225_225JPY", JPN225_225JPY)

	NAS10_NASUSD := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("NAS10_NASUSD", NAS10_NASUSD)

	US30_U30USD := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("US30_U30USD", US30_U30USD)

	USA50_SPXUSD := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("USA50_SPXUSD", USA50_SPXUSD)

	AUS20_20AUD := map[string]string{
		"1": "1:51-24:0",
		"2": "0:0-1:0,1:51-24:0",
		"3": "0:0-1:0,1:51-24:0",
		"4": "0:0-1:0,1:51-24:0",
		"5": "0:0-1:0,1:51-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("AUS20_20AUD", AUS20_20AUD)

	UK10_10GBP := map[string]string{
		"1": "2:1-24:0",
		"2": "0:0-1:0,2:1-24:0",
		"3": "0:0-1:0,2:1-24:0",
		"4": "0:0-1:0,2:1-24:0",
		"5": "0:0-1:0,2:1-24:0",
		"6": "0:0-1:0",
		"0": "0:0-0:0",
	}
	printSession("UK10_10GBP", UK10_10GBP)

	NASDAQ_Stock := map[string]string{
		"1": "17:30-24:0",
		"2": "17:30-24:0",
		"3": "17:30-24:0",
		"4": "17:30-24:0",
		"5": "17:30-24:0",
		"6": "0:0-0:0",
		"0": "0:0-0:0",
	}
	printSession("NASDAQ_Stock", NASDAQ_Stock)

	NYSE_Stock := map[string]string{
		"1": "17:30-24:0",
		"2": "17:30-24:0",
		"3": "17:30-24:0",
		"4": "17:30-24:0",
		"5": "17:30-24:0",
		"6": "0:0-0:0",
		"0": "0:0-0:0",
	}
	printSession("NYSE_Stock", NYSE_Stock)
}

func printSession(name string, in map[string]string) {
	out := Mt4ToEt6(in)

	for i := range out {
		l := len(out[i])

		for j := 0; j < 3-l; j++ {
			out[i] = append(out[i], "00:00-00:00")
		}
	}

	b, _ := json.Marshal(out)
	fmt.Println(name, "  ", string(b))
}